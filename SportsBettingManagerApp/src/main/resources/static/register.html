<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rejestracja - Sports Betting Manager</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container" id="app">
        <header class="app-header">
            <h1>Menedżer Zakładów Sportowych</h1>
        </header>

        <main>
            <div class="auth-container">
                <div class="form-container">
                    <h2>Rejestracja</h2>
                    <form id="register">
                        <div class="form-group">
                            <label for="register-username">Nazwa użytkownika</label>
                            <input type="text" id="register-username" name="username" required>
                        </div>
                        <div class="form-group">
                            <label for="register-email">Email</label>
                            <input type="email" id="register-email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="register-password">Hasło</label>
                            <input type="password" id="register-password" name="password" required>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">Zarejestruj</button>
                            <p>Masz już konto? <a href="index.html">Zaloguj się</a></p>
                        </div>
                    </form>
                </div>
            </div>
        </main>

        <footer>
            <p>&copy; 2024 Sports Betting Manager App</p>
        </footer>
    </div>

    <div id="notification" class="notification hidden"></div>

    <script type="module">
        import { handleRegister } from '/js/auth.js';
        import { showNotification } from '/js/utils.js';

        // Nasłuchuj formularza rejestracji
        const registerForm = document.getElementById('register');
        if (registerForm) {
            registerForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                
                const success = await handleRegister(e);
                if (success) {
                    // Po pomyślnej rejestracji przekieruj na stronę logowania
                    setTimeout(() => {
                        window.location.href = 'index.html';
                    }, 2000);
                }
            });
        }
    </script>
</body>
</html>